<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Pexip Video Chat</title>

  <link rel="shortcut icon" href="./images/pexip-favicon.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!--link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css"-->
  <link rel="stylesheet" href="./styles/base.css">
  <link rel="stylesheet" href="./styles/video.css">
  <link rel="stylesheet" href="./styles/selfview.css">
  <link rel="stylesheet" href="./styles/presentation.css">
  <link rel="stylesheet" href="./styles/toolbar.css">
  <link rel="stylesheet" href="./styles/settings.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
  <script src="https://sdk-cdn.mypurecloud.com/javascript/latest/purecloud-platform-client-v2.min.js"></script>
  <script src="https://sdk-cdn.mypurecloud.com/client-apps/2.3.0/purecloud-client-app-sdk.js"></script>
  <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
  <script type="module" src="./scripts/main.js"></script>
</head>

<body>

  <div id="dragzone" class="container">
    <video id="pexip-presentation-container" class="presentation" playsinline autoplay></video>
    <video id="pexip-video-container" poster="./images/orange-circle-loader.gif" playsinline autoplay muted></video>
    <div id="pexip-self-view-container" class="upper-right-corner">
      <video id="pexip-selfview" class="selfview" autoplay muted playsinline muted></video>
    </div>


    <div id="toolbar" class="toolbar">

      <!-- Share screen button -->
      <div class="button-container">
        <button onclick="toggleScreenSharing(this.closest('.button-container'))">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill="currentColor"  d="M14.75 19H9.25L8.524 21.177C8.389 21.582 8.691 22 9.117 22H14.883C15.31 22 15.611 21.582 15.476 21.177L14.75 19ZM18.9 4H5.1C3.664 4 2.5 5.164 2.5 6.6V15.4C2.5 16.836 3.664 18 5.1 18H18.9C20.336 18 21.5 16.836 21.5 15.4V6.6C21.5 5.164 20.336 4 18.9 4ZM20 15.4C20 16.008 19.508 16.5 18.9 16.5H5.1C4.493 16.5 4 16.008 4 15.4V6.6C4 5.993 4.492 5.5 5.1 5.5H18.9C19.507 5.5 20 5.992 20 6.6V15.4ZM5.5 15H18.5V7H5.5V15Z"/>
          </svg>
          <!-- Screen share slash -->
          <!--svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill="currentColor" d="M14.75 19H9.25L8.524 21.177C8.389 21.582 8.691 22 9.117 22H14.883C15.31 22 15.611 21.582 15.476 21.177L14.75 19ZM4.124 2.24001C3.88 1.99601 3.484 1.99601 3.24 2.24001C2.996 2.48401 2.996 2.88001 3.24 3.12401L4.272 4.15601C3.245 4.50101 2.5 5.45601 2.5 6.60001V15.4C2.5 16.836 3.664 18 5.1 18H18.116L20.085 19.97C20.207 20.092 20.367 20.153 20.527 20.153C20.687 20.153 20.847 20.092 20.969 19.97C21.213 19.726 21.213 19.33 20.969 19.086L4.124 2.24001ZM5.1 16C4.769 16 4.5 15.731 4.5 15.4V6.60001C4.5 6.26901 4.769 6.00001 5.1 6.00001H6.117L16.116 16H5.1ZM18.9 4.00001H7.652L9.652 6.00001H18.9C19.231 6.00001 19.5 6.26901 19.5 6.60001V15.4C19.5 15.527 19.452 15.637 19.385 15.734L20.807 17.156C21.233 16.693 21.5 16.079 21.5 15.4V6.60001C21.5 5.16401 20.336 4.00001 18.9 4.00001Z"/>
          </svg-->         
        </button>
        <span class="tooltip">Share screen</span>
        <span class="tooltip-enabled">Stop sharing</span>
      </div>

      <!-- Look room button -->
      <div id="lock-room-button-container" class="button-container">
        <button onclick="toggleLockRoom()">
          <svg class="disabled" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M7 6.56044V5.83516C7 3.16614 9.23999 1 12 1C14.76 1 17 3.16614 17 5.83516V6.56044V7.76923V9.46154H19C19.5523 9.46154 20 9.8945 20 10.4286V22.033C20 22.567 19.5523 23 19 23H5C4.44772 23 4 22.567 4 22.033V10.4286C4 9.8945 4.44772 9.46154 5 9.46154H7V7.76923V6.56044ZM15 9.46154V7.76923V6.56044V5.83516C15 4.18155 13.71 2.83736 12 2.83736C10.29 2.83736 9 4.18155 9 5.83516V6.56044V7.76923V9.46154H15Z"/>
          </svg>     
          <svg class="enabled" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill="currentColor" d="M14.1649 9.46154V5.83516C14.1649 4.18154 15.4283 2.83736 17.1031 2.83736C18.7778 2.83736 20.0412 4.18154 20.0412 5.83516V6.56044H22V5.83516C22 3.16615 19.8062 1 17.1031 1C14.4 1 12.2062 3.16615 12.2062 5.83516V9.46154H14.1649Z"/>
            <path fill="currentColor" d="M2.97938 9.46154C2.43848 9.46154 2 9.89449 2 10.4286V22.033C2 22.567 2.43848 23 2.97938 23H17.1804C17.7213 23 18.1598 22.567 18.1598 22.033V10.4286C18.1598 9.89449 17.7213 9.46154 17.1804 9.46154H2.97938Z"/>
          </svg>
        </button>
        <span class="tooltip">Unlock room</span>
        <span class="tooltip-enabled">Lock room</span>
      </div>

      <!-- Configuration button (Change camera panel) -->
      <div class="button-container">
        <button id="settings-button" onclick="toggleButtonDialog(this.closest('.button-container'))">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill="currentColor" d="M21.387 10.484L19.822 10.26C19.263 10.18 18.792 9.809 18.576 9.288C18.574 9.283 18.571 9.277 18.569 9.272C18.351 8.749 18.421 8.153 18.761 7.7L19.709 6.435C19.922 6.151 19.894 5.753 19.643 5.501L18.499 4.357C18.248 4.106 17.85 4.077 17.565 4.291L16.3 5.239C15.847 5.579 15.251 5.648 14.728 5.431C14.723 5.429 14.717 5.426 14.712 5.424C14.19 5.208 13.82 4.737 13.74 4.178L13.517 2.613C13.466 2.261 13.165 2 12.809 2H11.191C10.836 2 10.534 2.261 10.484 2.613L10.26 4.178C10.18 4.737 9.809 5.208 9.288 5.424C9.283 5.426 9.277 5.428 9.272 5.43C8.749 5.648 8.152 5.579 7.699 5.239L6.435 4.29C6.15 4.077 5.752 4.105 5.501 4.357L4.357 5.501C4.105 5.752 4.077 6.15 4.29 6.435L5.238 7.7C5.578 8.153 5.647 8.749 5.43 9.272C5.428 9.277 5.426 9.283 5.424 9.288C5.208 9.81 4.737 10.18 4.178 10.26L2.613 10.484C2.261 10.534 2 10.835 2 11.191V12.809C2 13.165 2.261 13.466 2.613 13.516L4.178 13.74C4.737 13.82 5.208 14.191 5.424 14.712C5.426 14.717 5.429 14.723 5.431 14.728C5.649 15.251 5.579 15.847 5.239 16.3L4.29 17.565C4.077 17.849 4.105 18.247 4.356 18.499L5.5 19.643C5.751 19.894 6.149 19.923 6.434 19.709L7.699 18.761C8.152 18.421 8.748 18.352 9.271 18.569C9.276 18.571 9.282 18.574 9.287 18.576C9.809 18.792 10.179 19.263 10.259 19.822L10.483 21.387C10.534 21.739 10.835 22 11.191 22H12.809C13.165 22 13.466 21.739 13.516 21.387L13.74 19.822C13.82 19.263 14.191 18.792 14.712 18.576C14.717 18.574 14.723 18.571 14.728 18.569C15.251 18.351 15.847 18.421 16.3 18.761L17.565 19.709C17.849 19.922 18.247 19.894 18.499 19.643L19.643 18.499C19.894 18.248 19.923 17.85 19.709 17.565L18.761 16.301C18.421 15.848 18.351 15.252 18.569 14.729C18.571 14.724 18.574 14.718 18.576 14.713C18.792 14.191 19.263 13.821 19.822 13.741L21.387 13.517C21.739 13.466 22 13.165 22 12.809V11.191C22 10.835 21.739 10.534 21.387 10.484ZM12 15.75C9.929 15.75 8.25 14.071 8.25 12C8.25 9.929 9.929 8.25 12 8.25C14.071 8.25 15.75 9.929 15.75 12C15.75 14.071 14.071 15.75 12 15.75Z"/>
          </svg>
        </button>
        <span class="tooltip">Change Settings</span>
        <div class="close-overlay" onclick="toggleButtonDialog(this.closest('.button-container'))"></div>
        <div id="settings-panel" class="dialog settings">
          <div class="select-container">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M5.64999 7H14.4C15.781 7 16.9 8.119 16.9 9.5V14.5C16.9 15.881 15.781 17 14.4 17H5.64999C4.26899 17 3.14999 15.881 3.14999 14.5V9.5C3.14999 8.119 4.26899 7 5.64999 7ZM18.15 10.125L20.875 7.854C21.282 7.515 21.9 7.805 21.9 8.334V15.666C21.9 16.196 21.282 16.485 20.875 16.146L18.15 13.875V10.125Z" fill="#F7F7F7"/>
            </svg>
            <select id="video-devices-selection"></select>
          </div>
        </div>
      </div>

      <!-- Pop out remote video button -->
      <div id="video-popout-button-container" class="button-container">
        <button onclick="toggleVideoPopOut()">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M11.967 2H21.1406C21.6129 1.99907 22.0009 2.38531 22 2.85945V12.0338C22.0009 12.4537 21.6951 12.8138 21.279 12.882C20.8629 12.9503 20.4589 12.7071 20.3252 12.3078L18.6242 7.24556L12.1521 13.7181C11.636 14.2343 10.7981 14.2343 10.2819 13.7181C9.76569 13.2019 9.76569 12.3639 10.2819 11.8477L16.7539 5.37515L11.6921 3.67402C11.2928 3.54028 11.0496 3.13627 11.1179 2.72011C11.1862 2.30581 11.5452 2.00094 11.967 2ZM3 2H3.00011H3.00022H8.00022C8.5525 2 9.00022 2.44772 9.00022 3C9.00022 3.55229 8.5525 4 8.00022 4H4L4 20H20V16C20 15.4477 20.4477 15 21 15C21.5523 15 22 15.4477 22 16V21C22 21.5523 21.5523 22 21 22H3C2.44772 22 2 21.5523 2 21V3C2 2.44772 2.44772 2 3 2Z"/>
          </svg>
        </button>
        <span class="tooltip">Pop up video</span>
        <span class="tooltip-enabled">Return video</span>
      </div>
    </div>

</body>

</html>